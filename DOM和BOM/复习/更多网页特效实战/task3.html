<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>复选框（checkbox）全选/全不选/返选</title>
    <style>
      body,
      dl,
      dt,
      dd,
      p {
        margin: 0;
        padding: 0;
      }
      body {
        font-family: Tahoma;
        font-size: 12px;
      }
      label,
      input,
      a {
        vertical-align: middle;
      }
      label {
        padding: 0 10px 0 5px;
      }
      a {
        color: #09f;
        text-decoration: none;
      }
      a:hover {
        color: red;
      }
      dl {
        width: 120px;
        margin: 10px auto;
        padding: 10px 5px;
        border: 1px solid #666;
        border-radius: 5px;
        background: #fafafa;
      }
      dt {
        padding-bottom: 10px;
        border-bottom: 1px solid #666;
      }
      dt label {
        font-weight: 700;
      }
      p {
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <dl>
      <dt>
        <input type="checkbox" id="checkAll" />
        <label>全选</label>
        <a href="javascript:;">反选</a>
      </dt>
      <dd>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（一）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（二）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（三）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（四）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（五）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（六）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（七）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（八）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（九）</label>
        </p>
        <p>
          <input type="checkbox" name="item" />
          <label>选项（十）</label>
        </p>
      </dd>
    </dl>
    <center>
      1、切换全选/全不选文字；
      <br />
      <br />
      2、根据选中个数更新全选框状态；
    </center>
    <script>
      // 找对象
      // 全选按钮
      var checkAll = document.getElementById("checkAll");
      // 全选/全不选文字
      var content = checkAll.nextElementSibling;
      // 反选按钮
      var reverseCheck = content.nextElementSibling;
      // 复选框按钮
      var checkBox = document.getElementsByName("item");

      // 全选按钮添加点击事件
      checkAll.onclick = function () {
        // 切换全选/全不选文字
        content.innerHTML = content.innerHTML === "全选" ? "全不选" : "全选";
        // 循环遍历所有的复选框元素
        for (var i = 0; i < checkBox.length; i++) {
          checkBox[i].checked = this.checked;
        }
      };

      // 点击反选按钮,所有复选框状态取反
      reverseCheck.onclick = function () {
        // 循环遍历所有的复选框元素
        for (var i = 0; i < checkBox.length; i++) {
          checkBox[i].checked = !checkBox[i].checked;
        }
        // 判断当前是不是全选
        checkAll.checked = isCheckAll();
        // 修改全选/全不选文字
        content.innerHTML = checkAll.checked ? "全不选" : "全选";
      };

      // 单个点击复选框按钮
      // 循环遍历所有的复选框元素
      for (var i = 0; i < checkBox.length; i++) {
        // 点击复选框按钮
        checkBox[i].onclick = function () {
          // 判断当前是不是全选
          checkAll.checked = isCheckAll();
          // 修改全选/全不选文字
          content.innerHTML = checkAll.checked ? "全不选" : "全选";
        };
      }

      // 定义一个函数，判断是否所有的复选框都被选中
      function isCheckAll() {
        // 循环遍历所有的复选框元素
        for (var i = 0; i < checkBox.length; i++) {
          // 如果有任何一个复选框未被选中
          if (!checkBox[i].checked) {
            // 返回 false 表示不是所有的复选框都被选中
            return false;
          }
        }
        // 如果所有的复选框都被选中，则返回 true
        return true;
      }
    </script>
  </body>
</html>
